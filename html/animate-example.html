<!DOCTYPE html>
<html>
  <style>
    #container {
      width: 400px;
      height: 400px;
      position: relative;
      background: #d3d3d3;
    }
    #animate {
      width: 50px;
      height: 50px;
      position: absolute;
      background-color: grey;
      text-align: center;
      line-height: 50px;
      font-weight: bold;
    }
  </style>
  <body>
    <p><button onclick="myMove()">СТАРТ</button></p>
    <p><button onclick="stopAnimation()">СТОП</button></p>
    <button
      type="button"
      onclick="document.getElementById('animate').style = 'background-color: blue'"
    >
      синьо
    </button>
    <button
      type="button"
      onclick="document.getElementById('animate').style = 'background-color: red'"
    >
      червено
    </button>
    <button
      type="button"
      onclick="document.getElementById('animate').style = 'background-color: yellow'"
    >
      жълто
    </button>
    <button
      type="button"
      onclick="document.getElementById('animate').style = 'background-color: green'"
    >
      зелено
    </button>

    <div id="container">
      <div id="animate">АСИ</div>
    </div>

    <script>
      function myMove() {
        for (i = 0; i < 100; i++) {
          clearInterval(i)
        }
        var elem = document.getElementById("animate")
        var pos = 0

        var id1 = setInterval(frameDown, 5)

        function frameDown() {
          if (pos == 350) {
            clearInterval(id1)
            id1 = setInterval(frameUp, 5)
          }
          pos++
          elem.style.top = pos + "px"
          elem.style.left = pos + "px"
        }

        function frameUp() {
          if (pos == 0) {
            clearInterval(id1)
            myMove()
          }
          pos--
          elem.style.top = pos + "px"
          elem.style.left = pos + "px"
        }
      }

      function stopAnimation() {
        for (i = 0; i < 100; i++) {
          clearInterval(i)
        }
      }
    </script>
  </body>
</html>
